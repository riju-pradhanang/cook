/* Intro animations and utilities */
.glow-caret{
  display:inline-block;
  margin-left:6px;
  width:0.6ch;
  color:#fbbf24;
  text-shadow:0 0 8px rgba(251,191,36,0.9);
  animation: caretBlink 1s steps(1,end) infinite;
}

@keyframes caretBlink{0%,49%{opacity:1}50%,100%{opacity:0}}

.neon-glow{
  color:#ffffff;
  text-shadow:
    0 0 6px rgba(245, 158, 11, 0.55),
    0 0 18px rgba(245, 158, 11, 0.35),
    0 0 36px rgba(245, 158, 11, 0.25);
}

.intro-zoom{ animation: introZoom 1800ms ease-out forwards; }
@keyframes introZoom{ 0%{ transform: scale(0.98) } 100%{ transform: scale(1.02) } }

.intro-bounce{ animation: introBounce 900ms cubic-bezier(.2,1.2,.2,1) 120ms both; }
@keyframes introBounce{ 0%{ transform: translateX(0) translateY(0) } 60%{ transform: translateX(0) translateY(-8px) } 100%{ transform: translateX(0) translateY(0) } }

.shadow-glow{ box-shadow: inset 0 0 140px rgba(255, 200, 150, 0.18), inset 0 0 280px rgba(255, 200, 150, 0.08); }

.animate-softGlowBg{ animation: softGlowBg 3200ms ease-in-out infinite alternate; }
@keyframes softGlowBg{ 0%{ filter: saturate(1) brightness(1); } 100%{ filter: saturate(1.15) brightness(1.05); } }

/* Floating background images */
.float-slow { animation: floatY 9s ease-in-out infinite; }
.float-slower { animation: floatY 12s ease-in-out infinite; }
.float-slowest { animation: floatY 16s ease-in-out infinite; }
@keyframes floatY { 0%{ transform: translateY(0) } 50%{ transform: translateY(-10px) } 100%{ transform: translateY(0) } }

/* 3D Book animation */
.book-scene{ perspective: 1200px; }
.book{ position: relative; width: 560px; max-width: 84vw; height: 340px; margin: 0 auto; transform-style: preserve-3d; }
.book-surface{ position:absolute; inset:0; border-radius:16px; backface-visibility:hidden; box-shadow: 0 14px 40px rgba(0,0,0,0.35); z-index:2; }
.left-cover{ transform-origin: left center; background: linear-gradient(135deg,#f59e0b 0%, #fde68a 35%, #fff7cc 70%); }
.right-cover{ transform-origin: right center; background: linear-gradient(225deg,#fecaca 0%, #ffd6e8 40%, #fff5cc 85%); }
.book-open .left-cover{ animation: leftOpen 1600ms cubic-bezier(.22,1,.23,1) forwards; }
.book-open .right-cover{ animation: rightOpen 1600ms cubic-bezier(.22,1,.23,1) forwards; }
@keyframes leftOpen{ 0%{ transform: rotateY(0deg) translateZ(1px) } 100%{ transform: rotateY(-140deg) translateZ(1px) } }
@keyframes rightOpen{ 0%{ transform: rotateY(0deg) translateZ(1px) } 100%{ transform: rotateY(140deg) translateZ(1px) } }
.book-spread{ position:absolute; inset:0; display:grid; grid-template-columns: 1fr 1fr; grid-template-rows: 1fr 1fr; gap:10px; padding:16px; background: radial-gradient(120% 120% at 50% 40%, rgba(255,255,255,0.12), rgba(255,255,255,0.04)); border-radius:16px; z-index:1; transform: translateZ(2px); }
.book-open .book-surface{ z-index:0; }
.book-open .book-spread{ z-index:3; }
.book-spread img{ width:100%; height:100%; object-fit: cover; border-radius:12px; opacity:0; transform: scale(0.96); box-shadow: 0 8px 20px rgba(0,0,0,0.28); }
.book-open .book-spread img{ animation: blinkIn 900ms ease forwards; }
@keyframes blinkIn{ 0%{ opacity:0; transform: scale(0.96) } 40%{ opacity:1 } 55%{ opacity:0.35 } 70%{ opacity:1 } 100%{ opacity:1; transform: scale(1) } }

/* Animated CTA button */
.btn-breathe { animation: btnBreathe 2.2s ease-in-out infinite; }
@keyframes btnBreathe { 0%{ transform: scale(1)} 50%{ transform: scale(1.04)} 100%{ transform: scale(1)} }
.btn-shimmer{
  position: relative;
  overflow: hidden;
}
.btn-shimmer::after{
  content:""; position:absolute; inset:0; background: linear-gradient(120deg, transparent 0%, rgba(255,255,255,0.25) 20%, transparent 40%);
  transform: translateX(-100%);
  animation: shimmer 2.8s ease-in-out infinite;
}
@keyframes shimmer{ 0%{ transform: translateX(-100%) } 60%{ transform: translateX(120%) } 100%{ transform: translateX(120%) } }

/* Button rise-in on first appear */
.btn-rise{ animation: btnRise 700ms cubic-bezier(.22,1,.23,1) both; }
@keyframes btnRise{ 0%{ opacity:0; transform: translateY(12px) scale(.98) } 100%{ opacity:1; transform: translateY(0) scale(1) } }

/* Cover text overlay */
.cover-text{ position:absolute; inset:0; display:flex; align-items:center; justify-content:center; text-align:center; z-index:4; border-radius:16px; padding: 18px; }
.cover-text .panel{ background: rgba(0,0,0,0.7); border: 1px solid rgba(255,255,255,0.2); padding: 18px 22px; border-radius: 14px; backdrop-filter: blur(2px); }
.cover-text h3{ font-weight:900; letter-spacing:0.22em; font-size: clamp(24px, 5.6vw, 38px); color:#fff; text-shadow: 0 0 10px rgba(245,158,11,0.7), 0 0 18px rgba(245,158,11,0.35); }
.cover-text p{ margin-top:8px; color: #fff; font-size: clamp(13px, 2.8vw, 15px); text-shadow: 0 0 6px rgba(0,0,0,0.65); }
.fade-out{ animation: fadeOut 500ms ease forwards; }
@keyframes fadeOut{ to{ opacity:0; transform: translateY(-6px) } }

/* Foil title effect */
.cover-foil{
  background: linear-gradient(92deg, #fff7d6 0%, #fcd34d 35%, #f59e0b 55%, #fffbe8 80%);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  text-shadow: 0 2px 12px rgba(0,0,0,0.28);
}

/* Badge */
.cover-badge{
  position:absolute; left:14px; bottom:14px; z-index:5;
  padding: 6px 10px; border-radius: 999px; font-size: 11px; font-weight: 700;
  color:#1f2937; background: radial-gradient(120% 120% at 30% 30%, #fff, #fde68a);
  box-shadow: 0 6px 16px rgba(0,0,0,0.25);
}

/* Ribbon */
.cover-ribbon{
  position:absolute; top:12px; right:-42px; transform: rotate(45deg); z-index:6;
  background: linear-gradient(135deg, #fb7185, #fca5a5);
  color:#fff; font-weight:800; letter-spacing: .08em; font-size: 10px;
  padding: 6px 56px; box-shadow: 0 6px 18px rgba(0,0,0,0.28);
}

/* Subtle cover pattern */
.cover-pattern{
  position:absolute; inset:0; border-radius:16px; pointer-events:none; z-index:1;
  background-image:
    repeating-linear-gradient(45deg, rgba(255,255,255,0.06) 0px, rgba(255,255,255,0.06) 2px, transparent 3px, transparent 8px),
    radial-gradient(120% 120% at 50% 40%, rgba(255,255,255,0.08), rgba(255,255,255,0));
}

/* Cover decorative layer */
.cover-decor{ position:absolute; inset:0; border-radius:16px; z-index:3; pointer-events:none; }
.cover-title{
  position:absolute; left:50%; top:40%; transform:translate(-50%,-50%);
  font-weight:900; letter-spacing:0.28em; text-align:center;
  font-size: clamp(26px, 6.2vw, 44px);
}
